
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../netflix-ish-deployment/">
      
      
        <link rel="next" href="../microservices-bookStore/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.14">
    
    
      
        <title>AWS Continuous Delivery - CloudSpace DevOps Accelerator Program (DAP)</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.fad675c6.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#continuous-delivery-on-aws" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="CloudSpace DevOps Accelerator Program (DAP)" class="md-header__button md-logo" aria-label="CloudSpace DevOps Accelerator Program (DAP)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CloudSpace DevOps Accelerator Program (DAP)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              AWS Continuous Delivery
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="CloudSpace DevOps Accelerator Program (DAP)" class="md-nav__button md-logo" aria-label="CloudSpace DevOps Accelerator Program (DAP)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    CloudSpace DevOps Accelerator Program (DAP)
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DevOps Projects
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            DevOps Projects
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws-static-web-hosting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Static Web Hosting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../containerization-deployment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Containerization Fun
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../serverless-on-aws/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Serverless on AWS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ansible-deployment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ansible Deployment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../terraform-on-aws/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Terraform on AWS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bash-scripting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bash Scripting Party
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../netflix-ish-deployment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Netflix-ish Deployment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    AWS Continuous Delivery
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    AWS Continuous Delivery
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#project-overview" class="md-nav__link">
    <span class="md-ellipsis">
      🚀 Project Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#problem-statement" class="md-nav__link">
    <span class="md-ellipsis">
      🔧 Problem Statement
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#techonology-stack" class="md-nav__link">
    <span class="md-ellipsis">
      💽 Techonology Stack
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture-diagram" class="md-nav__link">
    <span class="md-ellipsis">
      📌 Architecture Diagram
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    <span class="md-ellipsis">
      🚦 Getting Started
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🚦 Getting Started">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      📋 Table of Contents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-setup-aws-codecommit" class="md-nav__link">
    <span class="md-ellipsis">
      ✨ Step-1-Setup-AWS-CodeCommit
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-setup-aws-codeartifact" class="md-nav__link">
    <span class="md-ellipsis">
      🌟 Step-2-Setup-AWS-CodeArtifact
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-setup-sonarcloud" class="md-nav__link">
    <span class="md-ellipsis">
      🚀 Step-3-Setup-SonarCloud
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-store-sonar-in-ssm-parameter-store" class="md-nav__link">
    <span class="md-ellipsis">
      💽 Step-4-Store-Sonar-in-SSM-Parameter-Store
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-codebuild-for-sonarqube" class="md-nav__link">
    <span class="md-ellipsis">
      🔧 Step-5-CodeBuild-for-SonarQube
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-codebuild-for-build-artifact" class="md-nav__link">
    <span class="md-ellipsis">
      🚀 Step-6-CodeBuild-for-Build-Artifact
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-7-codepipeline-and-notification-with-sns" class="md-nav__link">
    <span class="md-ellipsis">
      💼 Step-7-CodePipeline-and-Notification-with-SNS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-8-validate-codepipeline" class="md-nav__link">
    <span class="md-ellipsis">
      ✅ Step-8: Validate CodePipeline
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-9-create-elastic-beanstalk-environment" class="md-nav__link">
    <span class="md-ellipsis">
      🌱 Step-9-Create-Elastic-Beanstalk-environment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-10-create-rds-mysql-database" class="md-nav__link">
    <span class="md-ellipsis">
      🗄️ Step-10-Create-RDS-MySQL-Database
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-11-update-rds-security-group" class="md-nav__link">
    <span class="md-ellipsis">
      🔒 Step-11-Update-RDS-Security-Group
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-12-beanstalk-instance-to-connect-rds-to-deploy-schemas" class="md-nav__link">
    <span class="md-ellipsis">
      🗄️ Step-12-Beanstalk-instance-to-connect-RDS-to-deploy-schemas
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-13-update-code-with-pom-settingxml" class="md-nav__link">
    <span class="md-ellipsis">
      💻 Step-13-Update-Code-with-pom-setting.xml
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-14-build-job-setup" class="md-nav__link">
    <span class="md-ellipsis">
      🔧 Step-14-Build-Job-Setup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-15-create-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      ⛓️ Step-15-Create-Pipeline
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-16-sns-notification" class="md-nav__link">
    <span class="md-ellipsis">
      🔔 Step-16-SNS-Notification
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-17-validatetest" class="md-nav__link">
    <span class="md-ellipsis">
      🧪 Step-17-Validate&amp;Test
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    <span class="md-ellipsis">
      📄 License
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../microservices-bookStore/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Microservices BookStore
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../java-web-app-deployment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Java Webapp Deployment
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    More Fun Projects
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            More Fun Projects
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DevOps
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            DevOps
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1_1" id="__nav_4_1_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DevOps Beginner
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_1">
            <span class="md-nav__icon md-icon"></span>
            DevOps Beginner
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dockerbeginning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker Beginner
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dockercomposebeginning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker Compose Beginner
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Kubernetes-Minikube%20Cluster%20Beginner/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubernetes-Minikube Cluster Beginner
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CI-CD-Beginner/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CI/CD Pipeline
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Monitoring-with-Prometheus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Monitoring with Prometheus
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Terraform-Starter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Terraform Starter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Ansible-Playbook-Library/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ansible Playbook Library
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Logging-with-ELK-Stack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logging with ELK Stack
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Scan-Docker-Container/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scan Docker container
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws-lambda-s3-events/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Lambda S3 Events
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws-lambda-xray/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Lambda Xray
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws-pet-rekognition-ecr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Pet Rekognition Ecr
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws-lex-lambda-rds/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Lex Lambda Rds
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws-dynamodb-lambda-trigger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Dynamodb Lambda Trigger
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_2" >
        
          
          <label class="md-nav__link" for="__nav_4_1_2" id="__nav_4_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DevOps Expert
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_2">
            <span class="md-nav__icon md-icon"></span>
            DevOps Expert
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_2_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1_2_1" id="__nav_4_1_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DevOps Large Projects
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_2_1">
            <span class="md-nav__icon md-icon"></span>
            DevOps Large Projects
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../AWS%20Photo%20Gallery%20Application/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS DevOps Expert
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Open%20Source%20Photo%20Gallery%20Application/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Open Source DevOps Expert
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Banking%20Web%20Application/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Load Balancing Expert
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../AWS%20E-Commerce%20Application/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Full Stack DevOps Expert
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Real-Time%20Chat%20Application/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Real-Time Application DevOps Expert
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Solution Architect
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Solution Architect
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_1" >
        
          
          <label class="md-nav__link" for="__nav_4_2_1" id="__nav_4_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Solution Architect Projects
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2_1">
            <span class="md-nav__icon md-icon"></span>
            Solution Architect Projects
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws-api-gateway/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Api Gateway
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws-cloudtrail-log-file-integrity/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Cloudtrail Log File Integrity
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws-control-tower/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Control Tower
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws-cognito-web-identity-federation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Cognito Web Identity Federation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws-dms-database-migration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Dms Database Migration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws-patch-manager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Patch Manager
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws-efs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Efs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws-elastic-disaster-recovery/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Elastic Disaster Recovery
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws-global-accelerator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Global Accelerator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws-iam-scp-permissions-boundary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Iam Scp Permissions Boundary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws-macie/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Macie
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws-systems-manager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Systems Manager
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws-video-on-demand/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Video On Demand
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws-vpc-flow-logs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Vpc Flow Logs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws-waf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Waf
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#project-overview" class="md-nav__link">
    <span class="md-ellipsis">
      🚀 Project Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#problem-statement" class="md-nav__link">
    <span class="md-ellipsis">
      🔧 Problem Statement
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#techonology-stack" class="md-nav__link">
    <span class="md-ellipsis">
      💽 Techonology Stack
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture-diagram" class="md-nav__link">
    <span class="md-ellipsis">
      📌 Architecture Diagram
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    <span class="md-ellipsis">
      🚦 Getting Started
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🚦 Getting Started">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      📋 Table of Contents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-setup-aws-codecommit" class="md-nav__link">
    <span class="md-ellipsis">
      ✨ Step-1-Setup-AWS-CodeCommit
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-setup-aws-codeartifact" class="md-nav__link">
    <span class="md-ellipsis">
      🌟 Step-2-Setup-AWS-CodeArtifact
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-setup-sonarcloud" class="md-nav__link">
    <span class="md-ellipsis">
      🚀 Step-3-Setup-SonarCloud
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-store-sonar-in-ssm-parameter-store" class="md-nav__link">
    <span class="md-ellipsis">
      💽 Step-4-Store-Sonar-in-SSM-Parameter-Store
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-codebuild-for-sonarqube" class="md-nav__link">
    <span class="md-ellipsis">
      🔧 Step-5-CodeBuild-for-SonarQube
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-codebuild-for-build-artifact" class="md-nav__link">
    <span class="md-ellipsis">
      🚀 Step-6-CodeBuild-for-Build-Artifact
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-7-codepipeline-and-notification-with-sns" class="md-nav__link">
    <span class="md-ellipsis">
      💼 Step-7-CodePipeline-and-Notification-with-SNS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-8-validate-codepipeline" class="md-nav__link">
    <span class="md-ellipsis">
      ✅ Step-8: Validate CodePipeline
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-9-create-elastic-beanstalk-environment" class="md-nav__link">
    <span class="md-ellipsis">
      🌱 Step-9-Create-Elastic-Beanstalk-environment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-10-create-rds-mysql-database" class="md-nav__link">
    <span class="md-ellipsis">
      🗄️ Step-10-Create-RDS-MySQL-Database
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-11-update-rds-security-group" class="md-nav__link">
    <span class="md-ellipsis">
      🔒 Step-11-Update-RDS-Security-Group
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-12-beanstalk-instance-to-connect-rds-to-deploy-schemas" class="md-nav__link">
    <span class="md-ellipsis">
      🗄️ Step-12-Beanstalk-instance-to-connect-RDS-to-deploy-schemas
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-13-update-code-with-pom-settingxml" class="md-nav__link">
    <span class="md-ellipsis">
      💻 Step-13-Update-Code-with-pom-setting.xml
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-14-build-job-setup" class="md-nav__link">
    <span class="md-ellipsis">
      🔧 Step-14-Build-Job-Setup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-15-create-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      ⛓️ Step-15-Create-Pipeline
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-16-sns-notification" class="md-nav__link">
    <span class="md-ellipsis">
      🔔 Step-16-SNS-Notification
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-17-validatetest" class="md-nav__link">
    <span class="md-ellipsis">
      🧪 Step-17-Validate&amp;Test
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    <span class="md-ellipsis">
      📄 License
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="continuous-delivery-on-aws">Continuous Delivery on AWS</h1>
<p>Continous 'Delivery' on AWS.</p>
<h2 id="project-overview">🚀 Project Overview</h2>
<p>The project involves a continuous integration and deployment (CI/CD) pipeline for software development on AWS. Here's an overview of the process:</p>
<ul>
<li>
<p><strong>Code Commit</strong>: Developers regularly commit code changes, which trigger the CI/CD pipeline.</p>
</li>
<li>
<p><strong>CodeBuild Trigger</strong>: Commits trigger AWS CodeBuild, which initiates the build process.</p>
</li>
<li>
<p><strong>Code Analysis</strong>: CodeBuild performs code analysis using Sonarcloud. SonarCloud (same as SonarQube) is a cloud-based code quality and security service provided by SonarSource. It integrates with Git repositories to analyze code for bugs, vulnerabilities, code smells, and other issues.</p>
</li>
<li>
<p><strong>Dependency Management</strong>: Dependencies required for the project are downloaded from AWS CodeArtifact, ensuring consistency and reliability.</p>
</li>
<li>
<p><strong>Artifact Building</strong>: CodeBuild utilizes Maven to build the artifact from the source code.</p>
</li>
<li>
<p><strong>Artifact Storage</strong>: The built artifact is stored in an S3 bucket for future deployment.</p>
</li>
<li>
<p><strong>Deployment</strong>: AWS Deploy deploys the artifact to an Elastic Beanstalk environment, ensuring scalability and ease of management.</p>
</li>
<li>
<p><strong>Database Connection</strong>: The Beanstalk environment is connected to an RDS (Relational Database Service) instance for data storage and retrieval.</p>
</li>
<li>
<p><strong>Software Testing</strong>: After deployment, software testing is executed using AWS CodeBuild services to verify the functionality and stability of the deployed application.</p>
</li>
</ul>
<p>This CI/CD pipeline automates the software development process, from code commits to deployment, ensuring efficient and reliable delivery of software updates.</p>
<h2 id="problem-statement">🔧 Problem Statement</h2>
<p>In the context of software development on AWS, there exists a need to establish a robust and efficient continuous integration and deployment (CI/CD) pipeline. The current manual processes for code commits, code analysis, artifact building, and deployment are prone to errors, inconsistencies, and inefficiencies. To address these challenges, the objective is to design and implement an automated CI/CD pipeline that seamlessly integrates with AWS services. This pipeline should enable developers to commit code changes confidently, knowing that they will undergo thorough code analysis, dependency management, artifact building, and deployment processes. Additionally, the pipeline should facilitate seamless database connection, software testing, and scalability of deployed applications. The ultimate goal is to streamline the software development lifecycle, ensuring consistent, reliable, and timely delivery of software updates while minimizing manual intervention and maximizing resource utilization.</p>
<h2 id="techonology-stack">💽 Techonology Stack</h2>
<p>● <strong>Application Integration:</strong> Simple Notification Service (SNS)</p>
<p>● <strong>Management &amp; Governance:</strong> CloudWatch.</p>
<p>● <strong>Security, Identity &amp; Compliance:</strong> Secret Manager, SonarCloud(SonarQube)</p>
<p>● <strong>CI/CD:</strong> Automate deployment using AWS Code Pipeline, AWS CodeBuild, AWS CodeCommit, AWS CodeArtifact</p>
<h2 id="architecture-diagram">📌 Architecture Diagram</h2>
<p><img alt="alt diagram" src="../assets/images/aws-continuous-delivery/architecture-diagram.webp" /></p>
<h2 id="getting-started">🚦 Getting Started</h2>
<h3 id="prerequisites">Prerequisites</h3>
<p>Before you get started, make sure you have the following prerequisites in place:</p>
<ul>
<li>AWS account.</li>
<li>AWS CLI.</li>
<li>SonarCloud account.</li>
<li>Git for cloning the repository.</li>
</ul>
<h2 id="table-of-contents">📋 Table of Contents</h2>
<ul>
<li><a href="#-Step-1-Setup-AWS-CodeCommit">Step-1: Setup AWS CodeCommit</a></li>
<li><a href="#-Step-2-Setup-AWS-CodeArtifact">Step-2: Setup AWS CodeArtifact</a></li>
<li><a href="#-Setup-SonarCloud">Step-3: Setup SonarCloud</a></li>
<li><a href="#-Step-3-Store-Sonar-in-SSM-Parameter-Store">Step-4: Store SonarCloud variables in System Manager Parameter Store</a></li>
<li><a href="#-Step-4-CodeBuild-for-SonarQube">Step-5: AWS CodeBuild for SonarQube Code Analysis</a></li>
<li><a href="#-Step-5-CodeBuild-for-Build-Artifact">Step-6: AWS CodeBuild for Build Artifact</a></li>
<li><a href="#-Step-6-CodePipeline-and-Notification-with-SNS">Step-7: AWS CodePipeline and Notification with SNS</a></li>
<li><a href="#-Step-8-Validate-CodePipeline">Step-8: Validate CodePipeline</a></li>
<li><a href="#-Step-9-Create-Elastic-Beanstalk-environment">Step-9: Create Elastic Beanstalk environment</a></li>
<li><a href="#-Step-10-Create-RDS-MySQL-Database">Step-10: Create RDS MySQL Database</a></li>
<li><a href="#-Step-11-Update-RDS-Security-Group">Step-11: Update RDS Security Group</a></li>
<li><a href="#-Step-12-Beanstalk-instance-to-connect-RDS-to-deploy-schemas">Step-12: Use Beanstalk instance to connect RDS to deploy schemas</a></li>
<li><a href="#-Step-13-Update-Code-with-pom-setting.xml">Step-13: Update Code with pom &amp; setting.xml</a></li>
<li><a href="#-Step-14-Build-Job-Setup">Step-14: Build Job Setup</a></li>
<li><a href="#-Step-15-Create-Pipeline">Step-15: Create Pipeline</a></li>
<li><a href="#-Step-16-SNS-Notification">Step-16: SNS Notification</a></li>
<li><a href="#-Step-17-Validate&amp;Test">Step-17: Validate &amp; Test</a></li>
</ul>
<h2 id="step-1-setup-aws-codecommit">✨ Step-1-Setup-AWS-CodeCommit</h2>
<ul>
<li>Go to AWS Console, and pick us-east-1 region then go to CodeCommit service. Create repository.</li>
</ul>
<p><code>bash
   Name: vprofile-code-repo</code></p>
<ul>
<li>Next, create an IAM user with CodeCommit access from IAM console. We will create a policy for CodeCommit and allow full access only for vprofile-code-repo.</li>
</ul>
<p><code>bash
   Name: vprofile-code-admin-repo-fullaccess</code></p>
<p><img alt="alt diagram" src="../assets/images/aws-continuous-delivery/iam.webp" /></p>
<ul>
<li>To be able connect our repo, follow steps given in CodeCommit.</li>
</ul>
<p><img alt="alt diagram" src="../assets/images/aws-continuous-delivery/CodeCommit.webp" /></p>
<ul>
<li>Create SSH key in local server and add public key to IAM role Security credentials.</li>
</ul>
<p><img alt="alt diagram" src="../assets/images/aws-continuous-delivery/ssh.webp" /></p>
<ul>
<li>Update configuration under .ssh/config and add our Host information. And change permissions with chmod 600 config</li>
</ul>
<p><code>bash
   Host git-codecommit.us-east-1.amazonaws.com
       User &lt;SSH_Key_ID_from IAM_user&gt;
       IdentityFile ~/.ssh/vpro-codecommit_rsa</code></p>
<ul>
<li>We can test our ssh connection to CodeCommit.</li>
</ul>
<p><code>bash
   ssh git-codecommit.us-east-1.amazonaws.com</code></p>
<p><img alt="alt diagram" src="../assets/images/aws-continuous-delivery/committest.webp" /></p>
<ul>
<li>
<p>Next, clone the repository to a location of your choice in your local server.</p>
</li>
<li>
<p>Convert the Github repository for vprofile-project in your local server, to your CodeCommit repository. In Github repo directory.</p>
</li>
<li>
<p>Run the command below.</p>
</li>
</ul>
<p><code>bash
    git checkout master
    git branch -a | grep -v HEAD | cur -d'/' -f3 | grep -v master &gt; /tmp/branches
    for i in `cat  /tmp/branches`; do git checkout $i; done
    git fetch --tags
    git remote rm origin
    git remote add origin ssh://git-codecommit.us-east-1.amazonaws.com/v1/repos/vprofile-code-repo
    cat .git/config
    git push origin --all
    git push --tags</code></p>
<ul>
<li>Our repo is ready on CodeCommit with all branches.</li>
</ul>
<p><img alt="alt diagram" src="../assets/images/aws-continuous-delivery/repobranches.webp" /></p>
<h2 id="step-2-setup-aws-codeartifact">🌟 Step-2-Setup-AWS-CodeArtifact</h2>
<ul>
<li>Create CodeArtifact repository for Maven:</li>
</ul>
<p><code>bash
    Name: vprofile-maven-repo
    Public upstraem Repo: maven-central-store
    This AWS account
    Domain name: visualpath</code>  </p>
<ul>
<li>Follow connection instructions given in CodeArtifact for maven-central-repo.</li>
</ul>
<p><img alt="alt diagram" src="../assets/images/aws-continuous-delivery/maven-artifact.webp" /></p>
<ul>
<li>Create an IAM user for CodeArtifact and configure aws CLI with its credentials. We will give Programmatic access to this user to enable use of aws cli and download credentials file.</li>
</ul>
<p><code>bash
    aws configure # provide iam user credentials</code>  </p>
<p><img alt="alt diagram" src="../assets/images/aws-continuous-delivery/iamarti.webp" /></p>
<ul>
<li>Run command get token as in the instructions.</li>
</ul>
<p><code>bash
    export CODEARTIFACT_AUTH_TOKEN=`aws codeartifact get-authorization-token --domain visualpath --domain-owner 392530415763 --region us-east-1 --query authorizationToken --output text`</code><br />
- Update pom.xml and setting.xml file with correct urls as suggested in instruction then push files to codeCommit.</p>
<p><code>bash
    git add .
    git commit -m "message"
    git push origin ci-aws</code>  </p>
<h2 id="step-3-setup-sonarcloud">🚀 Step-3-Setup-SonarCloud</h2>
<ul>
<li>
<p>Create an Account with SonarCloud. https://sonarcloud.io/ </p>
</li>
<li>
<p>From account avatar -&gt; My Account -&gt; Security. Generate token name as vprofile-sonartoken. Note the token.</p>
</li>
</ul>
<p><img alt="alt diagram" src="../assets/images/aws-continuous-delivery/sonarcloud.png" /></p>
<ul>
<li>Next we create a project, + -&gt; Analyze Project -&gt; create project manually. Below details will be used in our Build.</li>
</ul>
<p><code>bash
    Organization: kubeirving-projects
    Project key: vprofile-repo8</code>  </p>
<ul>
<li>Sonar Cloud is ready!</li>
</ul>
<p><img alt="alt diagram" src="../assets/images/aws-continuous-delivery/sonarcloud2.webp" /></p>
<h2 id="step-4-store-sonar-in-ssm-parameter-store">💽 Step-4-Store-Sonar-in-SSM-Parameter-Store</h2>
<ul>
<li>Create parameters with the variables below.</li>
</ul>
<p><code>bash
    CODEARTIFACT_TOKEN     SecureString 
    HOST                   https://sonarcloud.io
    ORGANIZATION           kubeirving-projects
    PROJECT                vprofile-repo8
    SONARTOKEN             SecureString</code>  </p>
<h2 id="step-5-codebuild-for-sonarqube">🔧 Step-5-CodeBuild-for-SonarQube</h2>
<ul>
<li>From AWS Console, go to CodeBuild -&gt; Create Build Project. This step is similar to Jenkins Job.</li>
</ul>
<p><code>bash
    ProjectName: Vprofile-Build
    Source: CodeCommit
    Branch: ci-aws
    Environment: Ubuntu
    runtime: standard:5.0
    New service role
    Insert build commands from foler aws-files/sonar_buildspec.yml
    Logs-&gt; GroupName: vprofile-buildlogs
    StreamName: sonarbuildjob</code>  </p>
<ul>
<li>Update sonar_buildspec.yml file parameter store sections with the exact names we have given in SSM Parameter store.</li>
</ul>
<p><img alt="alt diagram" src="../assets/images/aws-continuous-delivery/buildspec.webp" /></p>
<ul>
<li>Add a policy to the service role created for this Build project -&gt; find name of role from Environment, go to IAM add policy as below:</li>
</ul>
<p><img alt="alt diagram" src="../assets/images/aws-continuous-delivery/policy.webp" /></p>
<ul>
<li>Build your project.</li>
</ul>
<p><img alt="alt diagram" src="../assets/images/aws-continuous-delivery/project1.webp" />
<img alt="alt diagram" src="../assets/images/aws-continuous-delivery/project2.webp" /></p>
<ul>
<li>Check from SonarCloud too.</li>
</ul>
<p><img alt="alt diagram" src="../assets/images/aws-continuous-delivery/sonar2.webp" /></p>
<h2 id="step-6-codebuild-for-build-artifact">🚀 Step-6-CodeBuild-for-Build-Artifact</h2>
<ul>
<li>From AWS Console, go to CodeBuild -&gt; Create Build Project. This step is similar to Jenkins Job.</li>
</ul>
<p><code>bash
    ProjectName: Vprofile-Build-Artifact
    Source: CodeCommit
    Branch: ci-aws
    Environment: Ubuntu
    runtime: standard:5.0
    Use existing role from previous build
    Insert build commands from foler aws-files/build_buildspec.yml
    Logs-&gt; GroupName: vprofile-buildlogs
    StreamName: artifactbuildjob</code></p>
<ul>
<li>It’s time to build project.</li>
</ul>
<p><img alt="alt diagram" src="../assets/images/aws-continuous-delivery/buildpro.webp" /></p>
<h2 id="step-7-codepipeline-and-notification-with-sns">💼 Step-7-CodePipeline-and-Notification-with-SNS</h2>
<ul>
<li>First we will create an SNS topic from SNS service and subscribe to topic with email.</li>
</ul>
<p><img alt="alt diagram" src="../assets/images/aws-continuous-delivery/sns.webp" /></p>
<ul>
<li>Confirm your subscription from your email.</li>
</ul>
<p><img alt="alt diagram" src="../assets/images/aws-continuous-delivery/emailvalid.webp" /></p>
<ul>
<li>Next, create an S3 bucket to store our deploy artifacts.</li>
</ul>
<p><img alt="alt diagram" src="../assets/images/aws-continuous-delivery/s3art.webp" /></p>
<ul>
<li>Create CodePipeline.</li>
</ul>
<p><code>bash
    Name: vprofile-CI-Pipeline
    SourceProvider: Codecommit
    branch: ci-aws
    Change detection options: CloudWatch events
    Build Provider: CodeBuild
    ProjectName: vprofile-Build-Aetifact
    BuildType: single build
    Deploy provider: Amazon S3
    Bucket name: vprofile98-build-artifact
    object name: pipeline-artifact</code></p>
<ul>
<li>Add Test and Deploy stages to your pipeline.</li>
<li>Last step before running the pipeline is to setup Notifications.</li>
<li>Go to Settings in CodePipeline -&gt; Notifications.</li>
<li>Time to run our CodePipeline.</li>
</ul>
<p><img alt="alt diagram" src="../assets/images/aws-continuous-delivery/codepipeline.webp" /></p>
<h2 id="step-8-validate-codepipeline">✅ Step-8: Validate CodePipeline</h2>
<ul>
<li>Make some changes in README file in your source code, once this change is pushed, CloudWatch will detect the changes and a notification event will trigger Pipeline.</li>
</ul>
<h2 id="step-9-create-elastic-beanstalk-environment">🌱 Step-9-Create-Elastic-Beanstalk-environment</h2>
<p>Create an environment using Sample application.</p>
<p><code>bash
    Name: vprofile-app
    Capacity: LoadBalanced
        Min: 2
        Max: 4
    Security: Choose existing key-pair usedin previous steps
    Tags: 
        Name:Project
        Value: vprofile</code></p>
<h2 id="step-10-create-rds-mysql-database">🗄️ Step-10-Create-RDS-MySQL-Database</h2>
<ul>
<li>Create an RDS service with the details below.</li>
<li>Don’t forget the click View credential details to note down your password.</li>
</ul>
<p><code>bash
    Engine: MySQL
    version: 5.7
    Free-Tier
    DB Identifier: vprofile-cicd-mysql
    credentials: admin
    Auto generate password (will take note of pwd once RDS is created)
    db.t2.micro
    Create new SecGrp: 
    * Name: vprofile-cicd-rds-mysql-sg
    Additional Configurations: 
    * initial db name: accounts</code></p>
<h2 id="step-11-update-rds-security-group">🔒 Step-11-Update-RDS-Security-Group</h2>
<p>Go to instances, find BeanStalk instance and copy its Secgrp ID. Update RDS SecGrp Inbound rules to allow access for Beanstalk instances on port 3306.</p>
<h2 id="step-12-beanstalk-instance-to-connect-rds-to-deploy-schemas">🗄️ Step-12-Beanstalk-instance-to-connect-RDS-to-deploy-schemas</h2>
<ul>
<li>
<p>Although, SSH into your beanstalk instance to make changes is not a good practice as its better to create a new EC2 and perform these tasks, but for this project, we will make an exception.</p>
</li>
<li>
<p>Go to Beanstalk SecGrp group, and change access to port 22 from Anywhere to MyIP. Install mysql client in this instance to be able to connect RDS. We also need to install git since we will clone our source code and get scripts to create schema in our database.</p>
</li>
</ul>
<p><code>bash
    sudo -i
    yum install mysql git -y
    mysql -h &lt;RDS_endpoint&gt; -u &lt;RDS_username&gt; -p&lt;RDS_password&gt;
    show databases;
    git clone https://github.com/rumeysakdogan/vprofileproject-all.git
    cd vprofileproject-all/
    git checkout cd-aws
    cd src/main/resources
    mysql -h &lt;RDS_endpoint&gt; -u &lt;RDS_username&gt; -p&lt;RDS_password&gt; accounts &lt; db_backup.sql
    mysql -h &lt;RDS_endpoint&gt; -u &lt;RDS_username&gt; -p&lt;RDS_password&gt;
    use accounts;
    show tables;</code></p>
<p>Now go back to Beanstalk environment and under Configuration -&gt; load balancer -&gt; Processes , update Health check path to /login. Then apply changes.</p>
<h2 id="step-13-update-code-with-pom-settingxml">💻 Step-13-Update-Code-with-pom-setting.xml</h2>
<ul>
<li>
<p>Go to CodeCommit, select cd-aws branch. We will do the same updates that we did in ci-aws branch to the pom &amp; settings.xml files. We can directory select file and Edit in CodeCommit, then commit our changes.</p>
</li>
<li>
<p>For pom.xml, add the correct url from your code artifact connection steps:</p>
</li>
</ul>
<p><code>bash
    &lt;repository&gt;
            &lt;id&gt;codeartifact&lt;/id&gt;
            &lt;name&gt;codeartifact&lt;/name&gt;
        &lt;url&gt;https://visualpath-392530415763.d.codeartifact.us-east-1.amazonaws.com/maven/maven-central-store/&lt;/url&gt;
        &lt;/repository&gt;</code>
for settings.xml, update below parts with correct url from code artifact.</p>
<p><code>bash
    &lt;profiles&gt;
    &lt;profile&gt;
        &lt;id&gt;default&lt;/id&gt;
        &lt;repositories&gt;
        &lt;repository&gt;
            &lt;id&gt;codeartifact&lt;/id&gt;
        &lt;url&gt;https://visualpath-392530415763.d.codeartifact.us-east-1.amazonaws.com/maven/maven-central-store/&lt;/url&gt;
        &lt;/repository&gt;
        &lt;/repositories&gt;
    &lt;/profile&gt;
    &lt;/profiles&gt;
    &lt;activeProfiles&gt;
            &lt;activeProfile&gt;default&lt;/activeProfile&gt;
        &lt;/activeProfiles&gt;
    &lt;mirrors&gt;
    &lt;mirror&gt;
        &lt;id&gt;codeartifact&lt;/id&gt;
        &lt;name&gt;visualpath-maven-central-store&lt;/name&gt;
        &lt;url&gt;https://visualpath-392530415763.d.codeartifact.us-east-1.amazonaws.com/maven/maven-central-store/&lt;/url&gt;
        &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;
    &lt;/mirror&gt;
    &lt;/mirrors&gt;</code></p>
<h2 id="step-14-build-job-setup">🔧 Step-14-Build-Job-Setup</h2>
<ul>
<li>Go to CodeBuild and change Source for Vprofile-Build &amp; Vprofile-build-Artifact projects. Currently these projects are triggered from ci-aws branch, we will change branch to cd-aws.</li>
</ul>
<p><strong>Create “BuildAndRelease” Build Project</strong></p>
<p>Then we create a new project called Build Project for deploying artifacts to BeanStalk.</p>
<p><code>bash
    Name: Vprofile-BuildAndRelease
    Repo: CodeCommit
    branch: cd-aws
    Environment
    *Managed image: Ubuntu
    *Standard
    Image 5.0
    We will use existing role from previous Build project which has access to SSM Parameter Store
    Insert build commands: 
    * From source code we will get spec file under `aws-files/buildAndRelease_buildspec.yml`.
    Logs:
    *LogGroup:vprofile-cicd-logs
    *StreamnameBuildAndReleaseJob</code></p>
<p>We need to create 3 new parameters as used in BuilAndRelease_buildspec.yml file in SSM Parameter store. we have noted these values from RDS creation step, we will use them now.</p>
<p><code>bash
    RDS-Endpoint: String
    RDSUSER: String
    RDSPASS: SecureString</code></p>
<p>Let’s run the project to know if successful!</p>
<p><img alt="alt diagram" src="../assets/images/aws-continuous-delivery/brelease.webp" /></p>
<p><strong>Create “SoftwareTesting” Build Project</strong></p>
<p>In this Build Project, we will run our Selenium Automation scripts and store the artifacts in S3 bucket.</p>
<p>First, we will create an S3 bucket.</p>
<p><code>bash
    Name: vprofile-cicd-testoutput-rd (give a unique name)
    Region: it should be the same region we create our pipeline</code></p>
<p>Next, create a new Build project for Selenium Automation Tests. Create a new Build project with details below:</p>
<p><code>bash
    Name: SoftwareTesting
    Repo: CodeCommit
    branch: seleniumAutoScripts
    Environment:
    * Windows Server 2019
    * Runtime: Base
    * Image: 1.0
    We will use existing role from previous Build project which has access to SSM Parameter Store
    Insert build commands: 
    * From source code we will get spec file under `aws-files/win_buildspec.yml`.
    * We need to update url part to our Elastic Beanstalk URL.
    Artifacts:
    *Type: S3
    * Bucketname: vprofile-cicd-testoutput-rd
    * Enable semantic versioning
    Artifcats packaging: zip
    Logs:
    *LogGroup: vprofile-cicd-logs
    *Streamname:</code></p>
<h2 id="step-15-create-pipeline">⛓️ Step-15-Create-Pipeline</h2>
<p>Create CodePipeline with name vprofile-cicd-pipeline</p>
<p>```bash
    Source:
    * CodeCommit
    * vprofile-code-repo
    * cd-aws
    * Amazon CloudWatch Events</p>
<pre><code>Build
* BuildProvider: CodeBuild
* ProjectName: Vprofile-BuildAndRelease
* Single Build

Deploy
* Deploy provider: Beanstalk
* application: vprofile-app
* Environment: vprofile-app-env
</code></pre>
<p>```</p>
<p><code>bash
    We will Disable transitions and Edit pipeline to add more stages.</code></p>
<p>Add this stage in our codepipeline after “Source”:</p>
<p><code>bash
    Name: CodeAnalysis
    Action provider: CodeBuild
    Input artifacts: SourceArtifact
    Project name: Vprofile-Build</code></p>
<p>Add second stage after CodeAnalysis:</p>
<p><code>bash
    Name: BuildAndStore
    Action provider: CodeBuild
    Input artifacts: SourceArtifact
    Project name: Vprofile-Build-artifact
    OutputArtifact: BuildArtifact</code></p>
<p>Add third stage after BuildAndStore:</p>
<p><code>bash
    Name: DeployToS3
    Action provider: Amazon S3
    Input artifacts: BuildArtifact
    Bucket name: vprofile98-build-artifact
    Extract file before deploy</code></p>
<p>Edit the ouput artifacts of Build and Deploy stages. Go to Build stage Edit Stage. Change Output artifact name as BuildArtifactToBean.</p>
<p>Go to Deploy stage, Edit stage. We change InputArtifact to BuildArtifactToBean.</p>
<p>Last Stage will be added after Deploy stage:</p>
<p><code>bash
    Name: Software Testing
    Action provider: CodeBuild
    Input artifacts: SourceArtifact
    ProjectName: SoftwareTesting</code></p>
<p>Save and Release change. This will start our CodePipeline.</p>
<h2 id="step-16-sns-notification">🔔 Step-16-SNS-Notification</h2>
<p>Select your pipeline. Click Notify, then Manage Notification. We will create a new notification.</p>
<p><code>bash
    vprofile-aws-cicd-pipeline-notification
    Select all
    Notification Topic: use same topic from CI pipeline</code></p>
<h2 id="step-17-validatetest">🧪 Step-17-Validate&amp;Test</h2>
<p>Time to test our pipeline.</p>
<p><img alt="alt diagram" src="../assets/images/aws-continuous-delivery/test.webp" /></p>
<p>We can check the app from browser with Beanstalk endpoint to view result.</p>
<h2 id="license">📄 License</h2>
<p>This project is licensed under the MIT License.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.cd18aaf1.min.js"></script>
      
    
  </body>
</html>